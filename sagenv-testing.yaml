---

# - hosts: commandcentral
#   become: true
#   become_user: "{{ cce_owner }}"
#   vars:
#     cce_provisioning_stack_inventory_pattern: "all_webmethods:!commandcentral"
#   tasks:
#     - name: set initial facts
#       set_fact:
#         cce_provisioning_stack_hosts: []
#     - name: Build a list of the inventory hosts
#       set_fact:
#         cce_provisioning_stack_hosts: "{{ cce_provisioning_stack_hosts }} + ['{{ item }}']"
#       with_inventory_hostnames:
#         - "{{ cce_provisioning_stack_inventory_pattern }}"

#     - name: show all the hosts matching the pattern, i.e. all but the group www
#       debug:
#         var: cce_provisioning_stack_hosts

# - hosts: localhost
#   vars:
#     hostnameprefix: "owcpsagenv"
#   tasks:
#     - name: test jinja capabilities
#       debug: msg={{ hostnameprefix }}-{{ "%03d" | format(ansible_default_ipv4.address.split(".")[2]|int) }}-{{ "%03d" | format(ansible_default_ipv4.address.split(".")[3]|int) }}


# - hosts: localhost
#   become: true
#   tasks:
#     - name: Add the inventory into /etc/hosts
#       lineinfile:
#         dest: /etc/hosts
#         regexp: '.*{{ item }}$'
#         line: "{{ hostvars[item]['ip'] }} {{ hostvars[item]['hostname'] }} {{ hostvars[item]['fqdn'] }} {{ item }}"
#         state: present
#       when: hostvars[item]['ip'] is defined
#       with_items:
#         - "{{ groups['commandcentral'] }}"